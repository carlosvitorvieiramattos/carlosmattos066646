<div class="p-4 md:p-8 animate-in fade-in duration-500 bg-[#f8fafc] min-h-screen flex flex-col">

  <div class="flex flex-col md:flex-row justify-between items-start md:items-end mb-10 gap-4">
    <div>
      <h1 class="text-3xl md:text-4xl font-black text-slate-900 tracking-tighter">
        Tutores <span class="text-orange-600">Cadastrados</span>
      </h1>
      <p class="text-slate-400 font-medium text-sm mt-1">Gerencie os Pets de Mato Grosso</p>
    </div>
  </div>

  <div class="bg-white p-4 rounded-[2rem] border border-slate-100 shadow-sm mb-8">
    <div class="flex flex-col md:flex-row gap-4 items-center justify-between">
      
      <div class="relative w-full md:max-w-md group">
        <span class="absolute inset-y-0 left-4 flex items-center text-slate-400 group-focus-within:text-orange-500 transition-colors pointer-events-none">
          <i class="bi bi-search text-lg"></i>
        </span>
        <input type="text" 
               placeholder="Buscar tutor por nome ou CPF..." 
               (input)="filtrar($event)"
               class="w-full h-14 pl-12 pr-4 bg-slate-50 border-2 border-slate-100 rounded-2xl outline-none focus:bg-white focus:border-orange-500 transition-all text-slate-700 font-medium text-sm placeholder:text-slate-400">
      </div>

      <button routerLink="/tutores/novo" 
              class="w-full md:w-auto h-14 bg-slate-900 text-white px-8 rounded-2xl font-bold hover:bg-slate-800 hover:shadow-lg hover:-translate-y-0.5 transition-all flex items-center justify-center gap-2 uppercase tracking-wider text-xs whitespace-nowrap">
        <i class="bi bi-person-plus-fill text-lg"></i> 
        <span>Novo Tutor</span>
      </button>

    </div>
  </div>

  <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 mb-auto">
    @for (tutor of tutoresFiltrados(); track tutor.id) {
      <div class="bg-white border border-slate-100 p-6 rounded-[2.5rem] shadow-sm flex flex-col h-full group hover:shadow-xl hover:shadow-orange-100/50 transition-all duration-300 relative overflow-hidden">
        
        <div class="flex flex-col items-center text-center flex-grow">
          <div class="w-32 h-32 md:w-40 md:h-40 rounded-[2.5rem] bg-orange-50 overflow-hidden border-4 border-white shadow-lg mb-5 group-hover:scale-105 transition-transform duration-300 flex items-center justify-center relative z-10">
            @if (tutor.foto?.url) {
              <img [src]="tutor.foto?.url" class="w-full h-full object-cover" [alt]="tutor.nome">
            } @else {
              <div class="text-orange-300">
                <i class="bi bi-person-fill text-7xl md:text-8xl"></i>
              </div>
            }
          </div>
          
          <h5 class="text-xl md:text-2xl font-black text-slate-900 leading-tight mb-3 line-clamp-2">
            {{ tutor.nome }}
          </h5>
          
          <div class="flex flex-col gap-2 w-full px-2 mb-4">
            <p class="text-slate-500 text-sm font-medium truncate flex items-center justify-center gap-2">
              <i class="bi bi-envelope-at text-orange-500"></i> 
              {{ tutor.email }}
            </p>
            <div class="mt-2">
              <span class="px-4 py-1.5 bg-slate-50 text-slate-600 text-[11px] font-bold uppercase rounded-full border border-slate-200">
                CPF: <span class="text-slate-900">{{ tutor.cpf || '---' }}</span>
              </span>
            </div>
          </div>
        </div>

        <div class="grid grid-cols-2 gap-3 mt-6 pt-6 border-t border-slate-50">
          <button [routerLink]="['editar', tutor.id]" 
                  class="h-10 bg-slate-50 text-slate-600 rounded-xl hover:bg-slate-900 hover:text-white transition-colors flex items-center justify-center gap-2 font-bold text-[10px] uppercase tracking-widest">
            <i class="bi bi-pencil-square text-sm"></i> Editar
          </button>
          <button (click)="confirmarExclusao(tutor)" 
                  class="h-10 bg-red-50 text-red-500 rounded-xl hover:bg-red-500 hover:text-white transition-colors flex items-center justify-center gap-2 font-bold text-[10px] uppercase tracking-widest">
            <i class="bi bi-trash3-fill text-sm"></i> Excluir
          </button>
        </div>

      </div>
    } @empty {
        <div class="col-span-full flex flex-col items-center justify-center py-20 text-slate-300">
            <i class="bi bi-search text-6xl mb-4"></i>
            <p class="text-lg font-medium">Nenhum tutor encontrado.</p>
        </div>
    }
  </div>

  <div class="flex flex-col items-center gap-6 mt-12 pb-8">
    <p class="text-[11px] text-slate-400 font-bold uppercase tracking-widest text-center">
      Mostrando <span class="text-slate-900">{{ (paginaAtual() * itensPorPagina) + 1 }}</span> a 
      <span class="text-slate-900">{{ Math.min((paginaAtual() + 1) * itensPorPagina, tutorFacade.totalElementos()) }}</span> 
      de <span class="text-orange-500">{{ tutorFacade.totalElementos() }}</span> resultados
    </p>

    <div class="flex items-center justify-center gap-4 bg-white p-2 rounded-2xl shadow-sm border border-slate-100">
      <button (click)="mudarPagina(paginaAtual() - 1)" [disabled]="paginaAtual() === 0"
        class="w-10 h-10 flex items-center justify-center rounded-xl bg-slate-50 text-slate-400 hover:bg-orange-500 hover:text-white disabled:opacity-30 disabled:hover:bg-slate-50 disabled:hover:text-slate-400 transition-all">
        <i class="bi bi-chevron-left"></i>
      </button>

      <div class="flex items-center gap-2 text-[11px] font-black uppercase tracking-widest px-4">
        <span class="text-slate-900">{{ paginaAtual() + 1 }}</span>
        <span class="text-slate-300">/</span>
        <span class="text-slate-400">{{ totalPaginas() }}</span>
      </div>

      <button (click)="mudarPagina(paginaAtual() + 1)" [disabled]="(paginaAtual() + 1) >= totalPaginas()"
        class="w-10 h-10 flex items-center justify-center rounded-xl bg-slate-50 text-slate-900 hover:bg-orange-500 hover:text-white disabled:opacity-30 disabled:hover:bg-slate-50 disabled:hover:text-slate-900 transition-all">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </div>

</div>